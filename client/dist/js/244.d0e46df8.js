"use strict";(self["webpackChunkwork_project"]=self["webpackChunkwork_project"]||[]).push([[244,101],{4101:function(s,a,e){e.r(a),e.d(a,{default:function(){return b}});var o=e(3396),l=e(9242),t=e(7139);const r=s=>((0,o.dD)("data-v-3dd19651"),s=s(),(0,o.Cn)(),s),n=r((()=>(0,o._)("label",{for:"new_password"},"Новый пароль:",-1))),i=r((()=>(0,o._)("br",null,null,-1))),c=r((()=>(0,o._)("label",{for:"confirm_password"},"Подтвердите новый пароль:",-1))),d=r((()=>(0,o._)("br",null,null,-1))),p={class:"form-group"},m=r((()=>(0,o._)("input",{type:"submit",value:"Изменить пароль"},null,-1)));function u(s,a,e,r,u,w){return(0,o.wg)(),(0,o.iD)("form",{class:"change_pass_form",onSubmit:a[3]||(a[3]=(0,l.iM)((s=>w.changePass()),["prevent"]))},[n,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[0]||(a[0]=a=>s.password=a),type:"password",id:"new_password",name:"new_password",required:""},null,512),[[l.nr,s.password]]),i,c,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[1]||(a[1]=a=>s.passwordConfirm=a),type:"password",id:"confirm_password",name:"confirm_password",required:""},null,512),[[l.nr,s.passwordConfirm]]),d,(0,o._)("div",null,[(0,o._)("p",null,(0,t.zw)(s.resultString),1)]),(0,o._)("div",p,[m,(0,o._)("input",{onClick:a[2]||(a[2]=a=>s.$emit("closeForm")),type:"submit",value:"Отменить"})])],32)}var w=e(4161);const _=e(9564),h=e(86);var g={props:{isActive:Boolean},data:function(){return{password:"",passwordConfirm:"",resultString:""}},methods:{changePass(){if(this.password!==this.passwordConfirm)return void(this.resultString="Пароли не совпадают");const s=_(this.password),a={email:localStorage.getItem("email"),password:s};w.Z.post(h.SERVER_HOST+"/api/changePassword",a,{}).then((s=>{localStorage.removeItem("password"),localStorage.setItem("password",a.password),alert("Пароль успешно заменен"),this.resultString=s.data.message,console.log(s),this.$emit("closeForm")})).catch((s=>{console.log(s)}))}}},v=e(89);const f=(0,v.Z)(g,[["render",u],["__scopeId","data-v-3dd19651"]]);var b=f},4244:function(s,a,e){e.r(a),e.d(a,{default:function(){return M}});var o=e(3396),l=e(7139);const t=s=>((0,o.dD)("data-v-4bc0e6aa"),s=s(),(0,o.Cn)(),s),r={class:"about-page"},n={class:"container"},i={class:"row justify-content-center"},c={class:"col-md-8 user-data-field"},d={class:"row"},p=t((()=>(0,o._)("div",{class:"col-md-6 label-icon-group"},[(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-person",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"})]),(0,o._)("p",{class:"sad"},"Имя")],-1))),m={class:"col-md-6"},u={class:"row"},w=t((()=>(0,o._)("div",{class:"col-md-6 label-icon-group"},[(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-person",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"})]),(0,o._)("p",null,"Фамилия")],-1))),_={class:"col-md-6"},h={class:"row"},g=t((()=>(0,o._)("div",{class:"col-md-6 label-icon-group"},[(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-envelope",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"})]),(0,o._)("p",null,"email")],-1))),v={class:"col-md-6"},f={class:"row"},b={class:"col-md-6"},Z={class:"col-md-6"};function C(s,a,e,t,C,k){const S=(0,o.up)("changePassword");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",r,[(0,o._)("div",n,[(0,o._)("div",i,[(0,o._)("div",c,[(0,o._)("div",d,[p,(0,o._)("div",m,[(0,o._)("p",null,(0,l.zw)(C.firstName),1)])]),(0,o._)("div",u,[w,(0,o._)("div",_,[(0,o._)("p",null,(0,l.zw)(C.lastName),1)])]),(0,o._)("div",h,[g,(0,o._)("div",v,[(0,o._)("p",null,(0,l.zw)(C.email),1)])]),(0,o._)("div",f,[(0,o._)("div",b,[(0,o._)("div",{class:"change-pass-button",onClick:a[0]||(a[0]=s=>k.changePassword())},"Поменять пароль")]),(0,o._)("div",Z,[(0,o._)("div",{class:"exit-button",onClick:a[1]||(a[1]=s=>k.logout())},"Выйти")])])])])])]),C.changePass?((0,o.wg)(),(0,o.j4)(S,{key:0,onCloseForm:a[2]||(a[2]=s=>k.closeForm())})):(0,o.kq)("",!0)],64)}e(7658);var k=e(4161),S=e(86),P=e.n(S),y=e(4101),N=e(576),x=e(8341),H={data(){return{firstName:"",lastName:"",email:"",changePass:!1}},methods:{logout(){N.Z.dispatch("logoutUser")},changePassword(){this.changePass=!0},closeForm(){this.changePass=!1}},beforeCreate(){localStorage.getItem("login_status")||x.Z.push("/")},beforeMount(){N.Z.dispatch("setLinkListAction",[{label:"Главная",link:"/"},{label:"Профиль",link:"/about"}]),k.Z.get(P().SERVER_HOST+"/api/getUserByEmail",{params:{email:localStorage.getItem("email")}},{headers:{"Content-type":"application/json"}}).then((s=>{this.firstName=s.data.firstName,this.lastName=s.data.lastName,this.email=s.data.email}))},components:{changePassword:y["default"]}},I=e(89);const V=(0,I.Z)(H,[["render",C],["__scopeId","data-v-4bc0e6aa"]]);var M=V}}]);
//# sourceMappingURL=244.d0e46df8.js.map