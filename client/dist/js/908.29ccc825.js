"use strict";(self["webpackChunkwork_project"]=self["webpackChunkwork_project"]||[]).push([[908],{2908:function(s,r,o){o.r(r),o.d(r,{default:function(){return b}});var a=o(3396),e=o(9242),n=o(7139);const t=s=>((0,a.dD)("data-v-55432f6a"),s=s(),(0,a.Cn)(),s),l={class:"form-wrapper"},i=t((()=>(0,a._)("label",{for:"new_password"},"Новый пароль:",-1))),d=t((()=>(0,a._)("br",null,null,-1))),p=t((()=>(0,a._)("label",{for:"confirm_password"},"Подтвердите новый пароль:",-1))),u=t((()=>(0,a._)("br",null,null,-1))),c={class:"form-group"},w=t((()=>(0,a._)("input",{type:"submit",value:"Изменить пароль",class:"yes"},null,-1)));function m(s,r,o,t,m,_){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("form",{class:"change_pass_form",onSubmit:r[3]||(r[3]=(0,e.iM)((s=>_.changePass()),["prevent"]))},[i,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":r[0]||(r[0]=r=>s.password=r),type:"password",id:"new_password",name:"new_password",required:""},null,512),[[e.nr,s.password]]),d,p,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":r[1]||(r[1]=r=>s.passwordConfirm=r),type:"password",id:"confirm_password",name:"confirm_password",required:""},null,512),[[e.nr,s.passwordConfirm]]),u,(0,a._)("div",null,[(0,a._)("p",null,(0,n.zw)(s.resultString),1)]),(0,a._)("div",c,[w,(0,a._)("div",{onClick:r[2]||(r[2]=r=>s.$emit("closeForm")),value:"Отменить",class:"no"},"Отменить")])],32)])}var _=o(4161);const f=o(9564),g=o(86);var h={props:{isActive:Boolean},data:function(){return{password:"",passwordConfirm:"",resultString:""}},methods:{changePass(){if(this.password!==this.passwordConfirm)return void(this.resultString="Пароли не совпадают");const s=f(this.password),r={email:localStorage.getItem("email"),password:s};_.Z.post(g.SERVER_HOST+"/api/changePassword",r,{}).then((s=>{localStorage.removeItem("password"),localStorage.setItem("password",r.password),alert("Пароль успешно заменен"),this.resultString=s.data.message,console.log(s),this.$emit("closeForm")})).catch((s=>{console.log(s)}))}}},v=o(89);const S=(0,v.Z)(h,[["render",m],["__scopeId","data-v-55432f6a"]]);var b=S}}]);
//# sourceMappingURL=908.29ccc825.js.map