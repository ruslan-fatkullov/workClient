"use strict";(self["webpackChunkwork_project"]=self["webpackChunkwork_project"]||[]).push([[730,728],{728:function(s,a,e){e.r(a),e.d(a,{default:function(){return b}});var t=e(3396),o=e(9242),r=e(7139);const l=s=>((0,t.dD)("data-v-3941312a"),s=s(),(0,t.Cn)(),s),n=l((()=>(0,t._)("label",{for:"new_password"},"Новый пароль:",-1))),i=l((()=>(0,t._)("br",null,null,-1))),c=l((()=>(0,t._)("label",{for:"confirm_password"},"Подтвердите новый пароль:",-1))),d=l((()=>(0,t._)("br",null,null,-1))),u={class:"form-group"},p=l((()=>(0,t._)("input",{type:"submit",value:"Изменить пароль"},null,-1)));function m(s,a,e,l,m,_){return(0,t.wg)(),(0,t.iD)("form",{class:"change_pass_form",onSubmit:a[3]||(a[3]=(0,o.iM)((s=>_.changePass()),["prevent"]))},[n,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[0]||(a[0]=a=>s.password=a),type:"password",id:"new_password",name:"new_password",required:""},null,512),[[o.nr,s.password]]),i,c,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[1]||(a[1]=a=>s.passwordConfirm=a),type:"password",id:"confirm_password",name:"confirm_password",required:""},null,512),[[o.nr,s.passwordConfirm]]),d,(0,t._)("div",null,[(0,t._)("p",null,(0,r.zw)(s.resultString),1)]),(0,t._)("div",u,[p,(0,t._)("input",{onClick:a[2]||(a[2]=a=>s.$emit("closeForm")),type:"submit",value:"Отменить"})])],32)}var _=e(4161);const g=e(9564),w=e(86);var f={props:{isActive:Boolean},data:function(){return{password:"",passwordConfirm:"",resultString:""}},methods:{changePass(){if(this.password!==this.passwordConfirm)return void(this.resultString="Пароли не совпадают");const s=g(this.password),a={email:localStorage.getItem("email"),password:s};_.Z.post(w.SERVER_HOST+"/api/changePassword",a,{}).then((s=>{localStorage.removeItem("password"),localStorage.setItem("password",a.password),alert("Пароль успешно заменен"),this.resultString=s.data.message,console.log(s),this.$emit("closeForm")})).catch((s=>{console.log(s)}))}}},h=e(89);const v=(0,h.Z)(f,[["render",m],["__scopeId","data-v-3941312a"]]);var b=v},9730:function(s,a,e){e.r(a),e.d(a,{default:function(){return U}});var t=e(3396),o=e(7139);const r=s=>((0,t.dD)("data-v-de8d84ec"),s=s(),(0,t.Cn)(),s),l={class:"about-page"},n={class:"container"},i={class:"row justify-content-center"},c={class:"col-md-4 user-data-field"},d={class:"row justify-content-center"},u={class:"col-md-12 group"},p=r((()=>(0,t._)("label",{for:"firstName",class:"group-label"},"Имя",-1))),m={id:"firstName group_p"},_={class:"row justify-content-center"},g={class:"col-md-12 group"},w=r((()=>(0,t._)("label",{for:"lastName",class:"group-label"},"Фамилия",-1))),f={id:"lastName"},h={class:"row justify-content-center"},v={class:"col-md-12 group"},b=r((()=>(0,t._)("label",{for:"email",class:"group-label"},"Email",-1))),k={id:"email"},y={class:"row justify-content-center button-group"},C={class:"col-md-6"},S={class:"col-md-6"};function N(s,a,e,r,N,P){const j=(0,t.up)("changePassword");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",l,[(0,t._)("div",n,[(0,t._)("div",i,[(0,t._)("div",c,[(0,t._)("div",d,[(0,t._)("div",u,[p,(0,t._)("p",m,(0,o.zw)(N.firstName),1)])]),(0,t._)("div",_,[(0,t._)("div",g,[w,(0,t._)("p",f,(0,o.zw)(N.lastName),1)])]),(0,t._)("div",h,[(0,t._)("div",v,[b,(0,t._)("p",k,(0,o.zw)(N.email),1)])]),(0,t._)("div",y,[(0,t._)("div",C,[(0,t._)("div",{class:"main_button change-pass",onClick:a[0]||(a[0]=s=>P.changePassword())},"Поменять пароль")]),(0,t._)("div",S,[(0,t._)("div",{class:"exit-button",onClick:a[1]||(a[1]=s=>P.logout())},"Выйти")])])])])])]),N.changePass?((0,t.wg)(),(0,t.j4)(j,{key:0,onCloseForm:a[2]||(a[2]=s=>P.closeForm())})):(0,t.kq)("",!0)],64)}e(7658);var P=e(4161),j=e(86),I=e.n(j),Z=e(728),E=e(576),F=e(8341),z={data(){return{firstName:"",lastName:"",email:"",changePass:!1}},methods:{logout(){E.Z.dispatch("logoutUser")},changePassword(){this.changePass=!0},closeForm(){this.changePass=!1}},beforeCreate(){localStorage.getItem("login_status")||F.Z.push("/")},beforeMount(){E.Z.dispatch("setLinkListAction",[{label:"Главная",link:"/"},{label:"Профиль",link:"/about"}]),P.Z.get(I().SERVER_HOST+"/api/getUserByEmail",{params:{email:localStorage.getItem("email")}},{headers:{"Content-type":"application/json"}}).then((s=>{this.firstName=s.data.firstName,this.lastName=s.data.lastName,this.email=s.data.email}))},components:{changePassword:Z["default"]}},D=e(89);const R=(0,D.Z)(z,[["render",N],["__scopeId","data-v-de8d84ec"]]);var U=R}}]);
//# sourceMappingURL=730.4f9cd2e7.js.map