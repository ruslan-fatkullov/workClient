"use strict";(self["webpackChunkwork_project"]=self["webpackChunkwork_project"]||[]).push([[728],{728:function(s,r,o){o.r(r),o.d(r,{default:function(){return S}});var e=o(3396),a=o(9242),t=o(7139);const n=s=>((0,e.dD)("data-v-3941312a"),s=s(),(0,e.Cn)(),s),l=n((()=>(0,e._)("label",{for:"new_password"},"Новый пароль:",-1))),i=n((()=>(0,e._)("br",null,null,-1))),p=n((()=>(0,e._)("label",{for:"confirm_password"},"Подтвердите новый пароль:",-1))),d=n((()=>(0,e._)("br",null,null,-1))),u={class:"form-group"},c=n((()=>(0,e._)("input",{type:"submit",value:"Изменить пароль"},null,-1)));function w(s,r,o,n,w,m){return(0,e.wg)(),(0,e.iD)("form",{class:"change_pass_form",onSubmit:r[3]||(r[3]=(0,a.iM)((s=>m.changePass()),["prevent"]))},[l,(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":r[0]||(r[0]=r=>s.password=r),type:"password",id:"new_password",name:"new_password",required:""},null,512),[[a.nr,s.password]]),i,p,(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":r[1]||(r[1]=r=>s.passwordConfirm=r),type:"password",id:"confirm_password",name:"confirm_password",required:""},null,512),[[a.nr,s.passwordConfirm]]),d,(0,e._)("div",null,[(0,e._)("p",null,(0,t.zw)(s.resultString),1)]),(0,e._)("div",u,[c,(0,e._)("input",{onClick:r[2]||(r[2]=r=>s.$emit("closeForm")),type:"submit",value:"Отменить"})])],32)}var m=o(4161);const _=o(9564),f=o(86);var g={props:{isActive:Boolean},data:function(){return{password:"",passwordConfirm:"",resultString:""}},methods:{changePass(){if(this.password!==this.passwordConfirm)return void(this.resultString="Пароли не совпадают");const s=_(this.password),r={email:localStorage.getItem("email"),password:s};m.Z.post(f.SERVER_HOST+"/api/changePassword",r,{}).then((s=>{localStorage.removeItem("password"),localStorage.setItem("password",r.password),alert("Пароль успешно заменен"),this.resultString=s.data.message,console.log(s),this.$emit("closeForm")})).catch((s=>{console.log(s)}))}}},h=o(89);const v=(0,h.Z)(g,[["render",w],["__scopeId","data-v-3941312a"]]);var S=v}}]);
//# sourceMappingURL=728.f7ee9600.js.map