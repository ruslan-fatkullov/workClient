"use strict";(self["webpackChunkwork_project"]=self["webpackChunkwork_project"]||[]).push([[15,908],{2908:function(e,a,s){s.r(a),s.d(a,{default:function(){return y}});var l=s(3396),t=s(9242),i=s(7139);const o=e=>((0,l.dD)("data-v-55432f6a"),e=e(),(0,l.Cn)(),e),r={class:"form-wrapper"},n=o((()=>(0,l._)("label",{for:"new_password"},"Новый пароль:",-1))),d=o((()=>(0,l._)("br",null,null,-1))),c=o((()=>(0,l._)("label",{for:"confirm_password"},"Подтвердите новый пароль:",-1))),m=o((()=>(0,l._)("br",null,null,-1))),p={class:"form-group"},u=o((()=>(0,l._)("input",{type:"submit",value:"Изменить пароль",class:"yes"},null,-1)));function g(e,a,s,o,g,w){return(0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("form",{class:"change_pass_form",onSubmit:a[3]||(a[3]=(0,t.iM)((e=>w.changePass()),["prevent"]))},[n,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[0]||(a[0]=a=>e.password=a),type:"password",id:"new_password",name:"new_password",required:""},null,512),[[t.nr,e.password]]),d,c,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[1]||(a[1]=a=>e.passwordConfirm=a),type:"password",id:"confirm_password",name:"confirm_password",required:""},null,512),[[t.nr,e.passwordConfirm]]),m,(0,l._)("div",null,[(0,l._)("p",null,(0,i.zw)(e.resultString),1)]),(0,l._)("div",p,[u,(0,l._)("div",{onClick:a[2]||(a[2]=a=>e.$emit("closeForm")),value:"Отменить",class:"no"},"Отменить")])],32)])}var w=s(4161);const h=s(9564),f=s(86);var _={props:{isActive:Boolean},data:function(){return{password:"",passwordConfirm:"",resultString:""}},methods:{changePass(){if(this.password!==this.passwordConfirm)return void(this.resultString="Пароли не совпадают");const e=h(this.password),a={email:localStorage.getItem("email"),password:e};w.Z.post(f.SERVER_HOST+"/api/changePassword",a,{}).then((e=>{localStorage.removeItem("password"),localStorage.setItem("password",a.password),alert("Пароль успешно заменен"),this.resultString=e.data.message,console.log(e),this.$emit("closeForm")})).catch((e=>{console.log(e)}))}}},v=s(89);const k=(0,v.Z)(_,[["render",g],["__scopeId","data-v-55432f6a"]]);var y=k},9015:function(e,a,s){s.r(a),s.d(a,{default:function(){return B}});var l=s(3396),t=s(7139),i=s(9242);const o=e=>((0,l.dD)("data-v-7be09490"),e=e(),(0,l.Cn)(),e),r={class:"about-page"},n={class:"container-fluid"},d={class:"row justify-content-center main-container"},c=o((()=>(0,l._)("div",{class:"col-lg-3"},null,-1))),m={class:"col-xl-4 col-lg-5 col-md-8 col-sm-11 col-11 user-data-field"},p=o((()=>(0,l._)("div",{class:"user-data-header"},[(0,l._)("p",null,"Данные профиля")],-1))),u={class:"label-input-group"},g={key:0,class:"no-active-label"},w={key:2,class:"pre-logo user"},h={class:"label-input-group"},f={key:0,class:"no-active-label"},_={key:2,class:"pre-logo user"},v={class:"label-input-group"},k={key:0,class:"no-active-label"},y={key:2,class:"pre-logo eml"},D=o((()=>(0,l._)("p",null,"Редактировать",-1))),N=o((()=>(0,l._)("div",{class:"right-arrow"},null,-1))),b=[D,N],P={key:1,class:"confirm-undo-edit"},C=o((()=>(0,l._)("p",null,"Сохранить",-1))),S=o((()=>(0,l._)("div",{class:"confirm-label"},null,-1))),E=[C,S],U=o((()=>(0,l._)("div",{class:"undo_edit_svg"},null,-1))),I=[U],V={class:"col-xl-4 col-lg-4 col-md-7 col-sm-10 col-xs-9 col-9"},Z={class:"side-panel"};function F(e,a,s,o,D,N){const C=(0,l.up)("ConfirmDialogVue"),S=(0,l.up)("changePassword");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",r,[(0,l._)("div",n,[(0,l._)("div",d,[c,(0,l._)("div",m,[p,(0,l._)("div",u,[D.editProfile?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>D.firstName=e)},null,512)),[[i.nr,D.firstName]]):((0,l.wg)(),(0,l.iD)("div",g,(0,t.zw)(D.firstName),1)),D.editProfile?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",w))]),(0,l._)("div",h,[D.editProfile?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>D.lastName=e)},null,512)),[[i.nr,D.lastName]]):((0,l.wg)(),(0,l.iD)("div",f,(0,t.zw)(D.lastName),1)),D.editProfile?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",_))]),(0,l._)("div",v,[D.editProfile?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>D.email=e)},null,512)),[[i.nr,D.email]]):((0,l.wg)(),(0,l.iD)("div",k,(0,t.zw)(D.email),1)),D.editProfile?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",y))]),D.editProfile?((0,l.wg)(),(0,l.iD)("div",P,[(0,l._)("div",{onClick:a[4]||(a[4]=e=>N.replaceUserData()),class:"confirm_edit"},E),(0,l._)("div",{onClick:a[5]||(a[5]=e=>N.undoEdit()),class:"undo_edit"},I)])):((0,l.wg)(),(0,l.iD)("div",{key:0,onClick:a[3]||(a[3]=e=>N.changeMode()),class:"edit-data-profile"},b))]),(0,l._)("div",V,[(0,l._)("div",Z,[(0,l._)("div",{onClick:a[6]||(a[6]=e=>N.changePassword()),class:"panel-element"},"Поменять пароль"),(0,l._)("div",{onClick:a[7]||(a[7]=e=>D.showDialog=!D.showDialog),class:"panel-element danger"},"Выйти")])])])])]),D.showDialog?((0,l.wg)(),(0,l.j4)(C,{key:0,dialogTitle:"Вы действительно хотите выйти?",onUndoAction:a[8]||(a[8]=e=>D.showDialog=!D.showDialog),onConfirmAction:a[9]||(a[9]=e=>N.logout())})):(0,l.kq)("",!0),D.changePass?((0,l.wg)(),(0,l.j4)(S,{key:1,onCloseForm:a[10]||(a[10]=e=>N.closeForm())})):(0,l.kq)("",!0)],64)}s(7658);var q=s(1607),j=s(4161),x=s(86),L=s.n(x),z=s(2908),A=s(576),M=s(8341),R={data(){return{firstName:"",lastName:"",email:"",tempFirstName:"",tempLastName:"",tempEmail:"",changePass:!1,editProfile:!1,buttonInfo:"Редактировать",showDialog:!1}},methods:{logout(){A.Z.dispatch("logoutUser")},changePassword(){this.changePass=!0},closeForm(){this.changePass=!1},changeMode(){this.editProfile=!this.editProfile,this.editProfile&&(this.tempFirstName=this.firstName,this.tempLastName=this.lastName,this.tempEmail=this.email)},undoEdit(){this.editProfile=!1,this.firstName=this.tempFirstName,this.lastName=this.tempLastName,this.email=this.tempEmail},replaceUserData(){let e={oldEmail:localStorage.getItem("email"),firstName:this.firstName,lastName:this.lastName,email:this.email};A.Z.dispatch("replaceUserData",e)}},beforeCreate(){localStorage.getItem("login_status")||M.Z.push("/")},beforeMount(){A.Z.dispatch("setLinkListAction",[{label:"Главная",link:"/"},{label:"Профиль",link:"/about"}]),j.Z.get(L().SERVER_HOST+"/api/getUserByEmail",{params:{email:localStorage.getItem("email")}},{headers:{"Content-type":"application/json"}}).then((e=>{this.firstName=e.data.firstName,this.lastName=e.data.lastName,this.email=e.data.email}))},components:{changePassword:z["default"],ConfirmDialogVue:q.Z}},H=s(89);const T=(0,H.Z)(R,[["render",F],["__scopeId","data-v-7be09490"]]);var B=T}}]);
//# sourceMappingURL=15.84489154.js.map